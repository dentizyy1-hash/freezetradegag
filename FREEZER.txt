-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- Constants
local UI_COLOR_PRIMARY = Color3.fromRGB(20, 20, 20)
local UI_COLOR_SECONDARY = Color3.fromRGB(40, 40, 40)
local UI_COLOR_ACCENT1 = Color3.fromRGB(100, 100, 255)
local UI_COLOR_ACCENT2 = Color3.fromRGB(255, 100, 100)

local IMAGE_ASSET_ID = "rbxassetid://91357134325968"
local PLACEHOLDER_IMG = "rbxasset://textures/ui/GuiImagePlaceholder.png"

-- Utility: Tween function
local function tweenObject(obj, props, duration)
    local tween = TweenService:Create(obj, TweenInfo.new(duration or 0.5), props)
    tween:Play()
    return tween
end

-- Utility: Add rounded corners
local function addCorner(obj, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius)
    corner.Parent = obj
end

-- Utility: Create Button
local function createButton(text, position, color, parent)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.4, -5, 0, 40)
    btn.Position = position
    btn.Text = text
    btn.TextScaled = true
    btn.BackgroundColor3 = color
    btn.BackgroundTransparency = 0.2
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.ZIndex = 2
    btn.AutoButtonColor = false
    btn.Parent = parent
    addCorner(btn, 8)
    return btn
end

-- GUI Elements
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GlazeHub"
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 320, 0, 270)
frame.Position = UDim2.new(0.5, -160, 0.4, 0)
frame.BackgroundColor3 = UI_COLOR_PRIMARY
frame.BackgroundTransparency = 1
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui
addCorner(frame, 12)

local bgImage = Instance.new("ImageLabel")
bgImage.Size = UDim2.new(1, 0, 1, 0)
bgImage.BackgroundTransparency = 1
bgImage.Image = IMAGE_ASSET_ID
bgImage.ImageTransparency = 1
bgImage.ZIndex = 0
bgImage.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "Glaze Hub"
title.TextColor3 = Color3.new(1, 1, 1)
title.TextStrokeTransparency = 0.3
title.TextSize = 22
title.Font = Enum.Font.GothamBold
title.TextTransparency = 1
title.ZIndex = 2
title.Parent = frame

local icon = Instance.new("ImageLabel")
icon.Size = UDim2.new(0, 30, 0, 30)
icon.Position = UDim2.new(0, 10, 0, 5)
icon.BackgroundTransparency = 1
icon.Image = IMAGE_ASSET_ID
icon.ImageTransparency = 1
icon.ZIndex = 2
icon.Parent = frame

local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(1, -20, 0, 35)
searchBox.Position = UDim2.new(0, 10, 0, 50)
searchBox.PlaceholderText = "Search Player Name"
searchBox.Text = ""
searchBox.TextSize = 18
searchBox.Font = Enum.Font.Gotham
searchBox.BackgroundColor3 = UI_COLOR_SECONDARY
searchBox.BackgroundTransparency = 0.3
searchBox.TextColor3 = Color3.new(1,1,1)
searchBox.TextTransparency = 1
searchBox.ClearTextOnFocus = false
searchBox.ZIndex = 2
searchBox.Parent = frame
addCorner(searchBox, 8)

local avatar = Instance.new("ImageLabel")
avatar.Size = UDim2.new(0, 80, 0, 80)
avatar.Position = UDim2.new(0.5, -40, 0, 95)
avatar.BackgroundColor3 = Color3.new(1, 1, 1)
avatar.BackgroundTransparency = 0.8
avatar.Image = PLACEHOLDER_IMG
avatar.ImageTransparency = 1
avatar.ZIndex = 2
avatar.Parent = frame
addCorner(avatar, 40)

-- Buttons
local freezeBtn = createButton("Freeze ‚ùÑÔ∏è", UDim2.new(0.05, 0, 1, -50), UI_COLOR_ACCENT1, frame)
local forceBtn = createButton("Force Accept üîÇ", UDim2.new(0.55, 0, 1, -50), UI_COLOR_ACCENT2, frame)

-- Hover Effect
local function addHoverEffect(button, baseColor, hoverColor)
    button.MouseEnter:Connect(function()
        tweenObject(button, {BackgroundColor3 = hoverColor}, 0.2)
    end)
    button.MouseLeave:Connect(function()
        tweenObject(button, {BackgroundColor3 = baseColor}, 0.2)
    end)
end

addHoverEffect(freezeBtn, UI_COLOR_ACCENT1, Color3.fromRGB(150, 150, 255))
addHoverEffect(forceBtn, UI_COLOR_ACCENT2, Color3.fromRGB(255, 150, 150))

-- Avatar Update
local function updateAvatar()
    local name = searchBox.Text:lower()
    local foundPlayer = nil

    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name:lower() == name then
            foundPlayer = player
            break
        end
    end

    if foundPlayer then
        local content = Players:GetUserThumbnailAsync(
            foundPlayer.UserId,
            Enum.ThumbnailType.HeadShot,
            Enum.ThumbnailSize.Size100x100
        )
        avatar.Image = content
    else
        avatar.Image = PLACEHOLDER_IMG
    end
end

searchBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        updateAvatar()
    end
end)

-- Notifications
freezeBtn.MouseButton1Click:Connect(function()
    game.StarterGui:SetCore("SendNotification", {
        Title = "Serenity Script",
        Text = "Trade frozen successfully",
        Duration = 3
    })
end)

forceBtn.MouseButton1Click:Connect(function()
    game.StarterGui:SetCore("SendNotification", {
        Title = "Serenity Script",
        Text = "Forced accepted",
        Duration = 3
    })
end)

-- Fade-in Animation
task.wait(0.2)
tweenObject(frame, {BackgroundTransparency = 0.5}, 0.6)
tweenObject(bgImage, {ImageTransparency = 0.3}, 0.6)
tweenObject(title, {TextTransparency = 0}, 0.6)
tweenObject(icon, {ImageTransparency = 0}, 0.6)
tweenObject(searchBox, {TextTransparency = 0}, 0.6)
tweenObject(avatar, {ImageTransparency = 0.2}, 0.6)
tweenObject(freezeBtn, {TextTransparency = 0}, 0.6)
tweenObject(forceBtn, {TextTransparency = 0}, 0.6)

